!function(e){function t(t){e(t).show(),e("body").addClass("show-modal")}e(".js-comments");e("#comment-success").hide(),e(".js-form").submit(function(){var n=this;return e(n).addClass("disabled"),e("#comment-form-submit").html('<i class="fas fa-spinner fa-spin fa-fw"></i> Sending...'),e.ajax({type:e(this).attr("method"),url:e(this).attr("action"),data:e(this).serialize(),contentType:"application/x-www-form-urlencoded",success:function(){t("#comment-success"),e("#comment-form-submit").html("Submit"),e(n)[0].reset(),e(n).removeClass("disabled"),e(n).fadeOut(300)},error:function(o){console.log(o),t("Error","An error occurred.<br>["+((o.responseJSON||{}).errorCode||"unknown")+"]"),e("#comment-form-submit").html("Submit"),e(n).removeClass("disabled")}}),!1}),e(".js-close-modal").click(function(){e("body").removeClass("show-modal")})}(jQuery);var addComment={moveForm:function(e,t,n,o){var s,r,i,m,d=this,l=d.I(e),a=d.I(t),c=d.I("cancel-comment-reply-link"),u=d.I("comment-replying-to-uid"),f=d.I("comment-post-slug"),p=a.getElementsByTagName("form")[0];if(l&&a&&c&&u&&p){d.respondId=t,n=n||!1,d.I("sm-temp-form-div")||((s=document.createElement("div")).id="sm-temp-form-div",s.style.display="none",a.parentNode.insertBefore(s,a)),l.parentNode.insertBefore(a,l.nextSibling),f&&n&&(f.value=n),u.value=o,c.style.display="",c.onclick=function(){var e=addComment,t=e.I("sm-temp-form-div"),n=e.I(e.respondId);if(t&&n)return e.I("comment-replying-to-uid").value=null,t.parentNode.insertBefore(n,t),t.parentNode.removeChild(t),this.style.display="none",this.onclick=null,!1};try{for(var y=0;y<p.elements.length;y++)if(r=p.elements[y],m=!1,"getComputedStyle"in window?i=window.getComputedStyle(r):document.documentElement.currentStyle&&(i=r.currentStyle),(r.offsetWidth<=0&&r.offsetHeight<=0||"hidden"===i.visibility)&&(m=!0),"hidden"!==r.type&&!r.disabled&&!m){r.focus();break}}catch(h){}return!1}},I:function(e){return document.getElementById(e)}};